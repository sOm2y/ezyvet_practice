(window.webpackJsonpezyvet=window.webpackJsonpezyvet||[]).push([[0],{139:function(e,t,r){e.exports=r(253)},148:function(e,t,r){},150:function(e,t,r){},253:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(9),o=r.n(c),i=r(34),u=r(130),s=(r(148),r(100),r(50)),p=r(74),l=(r(150),r(151),r(136)),d=(r(254),r(75)),m=(r(101),r(73)),f=r(47),y="GET_PRODUCTS",O="GET_PRODUCTS_SUCCESS",b={removeProduct:function(e){return{type:"REMOVE_PRODUCT",payload:e}}},g=Object(i.b)((function(e,t){return{carts:e.cartReducer.carts}}),b)((function(e){var t=Object(f.a)({},e),r=t.collapsed,c=t.onClose,o=t.removeProduct,i=t.carts,u=Object(n.useState)(0),s=Object(p.a)(u,2),y=s[0],O=s[1];Object(n.useEffect)((function(){b()}),[i]);var b=function(){var e=i.map((function(e){return e.quantity*e.product.price})).reduce((function(e,t){return e+t}),0);O(e)};return a.a.createElement(l.a,{width:720,title:"shopping cart",placement:"right",closable:!0,onClose:c,visible:r},a.a.createElement(d.a,{itemLayout:"horizontal",dataSource:i,footer:a.a.createElement("div",null,a.a.createElement("b",null,"Total price : ".concat(y.toLocaleString(void 0,{style:"currency",currency:"NZD",minimumFractionDigits:0,maximumFractionDigits:2})))),renderItem:function(e,t){return a.a.createElement(d.a.Item,{key:t,actions:[a.a.createElement(m.a,{onClick:function(){return o(e)}}," Remove ")]},a.a.createElement(d.a.Item.Meta,{title:e.product.name,description:(e.product.price*e.quantity).toLocaleString(void 0,{style:"currency",currency:"NZD",minimumFractionDigits:0,maximumFractionDigits:2})}),a.a.createElement("p",null," x ",e.quantity))}}))})),v=(r(119),r(36)),E=(r(120),r(25)),j=(r(228),r(14)),w=(r(255),r(135)),h={addProduct:function(e){return{type:"ADD_PRODUCT",payload:e}}},P=Object(i.b)((function(e,t){return{}}),h)((function(e){var t=Object(f.a)({},e),r=t.product,n=t.addProduct;return a.a.createElement("div",{style:{background:"#ECECEC",padding:"30px"}},a.a.createElement(w.a,{title:r.name,bordered:!1},a.a.createElement("p",null,r.price.toLocaleString(void 0,{style:"currency",currency:"NZD",minimumFractionDigits:0,maximumFractionDigits:2})),a.a.createElement(m.a,{type:"primary",onClick:function(){n(r)}},"Add to cart")))})),D=s.a.Header,C=s.a.Content,k={getProducts:function(){return{type:y}}},S=Object(i.b)((function(e,t){return{products:e.productReducer.products}}),k)((function(e){var t=Object(f.a)({},e),r=t.products,c=t.toggleCart,o=t.getProducts;return Object(n.useEffect)((function(){o()}),[]),a.a.createElement(s.a,null,a.a.createElement(D,{style:{background:"#fff",padding:0}},a.a.createElement(j.a,{className:"trigger",type:"shopping-cart",onClick:c})),a.a.createElement(C,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280}},a.a.createElement(v.a,{type:"flex"},r&&r.map((function(e,t){return a.a.createElement(E.a,{key:t,span:6},a.a.createElement(P,{product:e}))})))))})),x=function(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),r=t[0],c=t[1];return a.a.createElement(s.a,{className:"App"},a.a.createElement(g,{collapsed:r,onClose:function(){c(!1)}}),a.a.createElement(S,{collapsed:r,toggleCart:function(){c(!r)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=r(21),_=r(137),T=r(72),q=r(37),U=r.n(q),N=r(41),F=(r(233),r(76)),A=r(133),I=r.n(A),L=[{name:"Sledgehammer",price:125.75},{name:"Axe",price:190.5},{name:"Bandsaw",price:562.13},{name:"Chisel",price:12.9},{name:"Hacksaw",price:18.45}],M=function(){return new Promise((function(e,t){I()({method:"get",url:"http://www.mocky.io/v2/5d9448492f000058008ff605",headers:{"Content-Type":"application/json"}}).then((function(r){400!==r.status&&403!==r.status||t(r),e(L)})).catch((function(e){t(e.response)}))}))},z=U.a.mark(G),B=U.a.mark(H);function G(){var e;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,F.a.loading("loading products...",0),t.next=4,Object(N.b)(M);case 4:return e=t.sent,F.a.destroy(),t.next=8,Object(N.d)({type:O,payload:e});case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),F.a.error("Get products failed");case 13:case"end":return t.stop()}}),z,null,[[0,10]])}function H(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.e)(y,G);case 2:case"end":return e.stop()}}),B)}var V=H,Z=U.a.mark(J);function J(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.c)(V)]);case 2:case"end":return e.stop()}}),Z)}var W=r(134),X=r.n(W),$=r(99),K=r(71);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(r,!0).forEach((function(t){Object(K.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ee={carts:[]},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCT":var r=e.carts.find((function(e){return e.product.name===t.payload.name}));return r?(r.quantity+=1,Y({},e,{carts:e.carts.filter((function(e){return e.product.name===r.product.name?Y({},e,{quantity:r}):e}))})):Y({},e,{carts:[].concat(Object($.a)(e.carts),[{product:t.payload,quantity:1}])});case"REMOVE_PRODUCT":return 1===t.payload.quantity?Y({},e,{carts:Object($.a)(e.carts.filter((function(e){return e.product.name!==t.payload.product.name})))}):(t.payload.quantity-=1,Y({},e,{carts:e.carts.filter((function(e){return e.product.name===t.payload.product.name?Y({},e,{quantity:t.payload.quantity}):e}))}));default:return e}};function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(r,!0).forEach((function(t){Object(K.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ae={products:[]},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return ne({},e,{products:t.payload});default:return e}},oe={key:"cart",storage:X.a},ie=Object(R.c)({productReducer:ce,cartReducer:Object(T.a)(oe,te)}),ue=Object(_.a)(),se=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||R.d;var pe=function(){var e=Object(R.e)(ie,se(Object(R.a)(ue)));return ue.run(J),{persistor:Object(T.b)(e),store:e}}(),le=pe.store,de=pe.persistor;o.a.render(a.a.createElement(i.a,{store:le},a.a.createElement(u.a,{persistor:de},a.a.createElement(x,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[139,1,2]]]);
//# sourceMappingURL=main.b7a268f3.chunk.js.map